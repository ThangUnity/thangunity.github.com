<!doctype html>
<html lang="en">
  <head>
    <title>model viewer</title>
    <meta charset="utf-8">
    <meta name="description" content="&lt;model-viewer&gt; template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" href="./styles.css" rel="stylesheet"/>
    <!-- OPTIONAL: The :focus-visible polyfill removes the focus ring for some input types -->
    <script src="https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js" defer></script>

  </head>
  <body>
   <!-- <scene view> https://developers.google.com/ar/develop/java/scene-viewer
      HTML element change src file
	- S.browser_fallback_url  Nếu không thể hiển thị mô hình 3D, chẳng hạn như do ứng dụng Google chưa được cài đặt hoặc là phiên bản cũ, S.browser_fallback_url tham số sẽ được sử dụng để hiển thị trang web dự phòng.
	- file= Đường dẫn file glb, gltf
   
  <button onclick="window.location.href='intent://arvr.google.com/scene-viewer/1.0?file=https://thangunity.github.io/Glb_TV.glb&mode=ar_preferred#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;S.browser_fallback_url=https://developers.google.com/ar;end;'">Continue</button>
    -->
	<script>
		// Check whether this is an Android device.
		const isAndroid = /android/i.test(navigator.userAgent);
		// This fallback URL is used if the Google app is not installed and up to date.
		const fallbackUrl = 'https://arvr.google.com/scene-viewer?file=https%3A%2F%2Fstorage.googleapis.com%2Far-answers-in-search-models%2Fstatic%2FTiger%2Fmodel.glb&link=https%3A%2F%2Fgoogle.com&title=Tiger';
		// This intent URL triggers Scene Viewer on Android and falls back to
		// fallbackUrl if the Google app is not installed and up to date.
		const sceneViewerUrl = 'intent://arvr.google.com/scene-viewer/1.0?file=https://storage.googleapis.com/ar-answers-in-search-models/static/Tiger/model.glb&title=Tiger&mode=ar_preferred#Intent;scheme=https;package=com.google.android.googlequicksearchbox;action=android.intent.action.VIEW;S.browser_fallback_url=' +
			fallbackUrl + ';end;';
		// Create a link.
		var a = document.createElement('a');
		a.appendChild(document.createTextNode('Tiger'));
		// Set the href to the intent URL on Android and the fallback URL
		// everywhere else.
		a.href = isAndroid ? sceneViewerUrl : fallbackUrl;
		// Add the link to the page.
		document.body.appendChild(a);
	</script>
	
	<button
      onclick="launchIOSQuickLookAR('https://thangunity.github.io/toy_biplane.usdz')"
    >
     IOS THANG
    </button>
	
	<script>
	//function detectiOSARQuickLook
	const testAnchor = document.createElement("a");
	const quicklookViewerUrl='https://thangunity.github.io/toy_biplane.usdz';
	if(testAnchor.relList.supports("ar"))
	{
		// Create a link.
		<!-- var a = document.createElement('a'); -->
		 <!-- a.setAttribute('rel', 'ar'); -->
		<!-- a.appendChild(document.createTextNode('Tiger')); -->
		<!-- // Set the href to the intent URL on Android and the fallback URL -->
		<!-- // everywhere else. -->
		<!-- a.href = quicklookViewerUrl; -->
		<!-- // Add the link to the page. -->
		<!-- a.click(); -->
		<!-- document.body.appendChild(a); -->
	}
	
	function launchIOSQuickLookAR(usdzSrc) {
  const anchor = document.createElement("a");
  anchor.setAttribute("rel", "ar");
  anchor.appendChild(document.createElement("img"));
  anchor.setAttribute("href", usdzSrc);
  anchor.click();
}
	</script>
	

	
	<!-- Previewing a Model with AR Quick Look IOS
	
	-->
	<!-- <model-viewer> HTML element change src file -->
    <model-viewer src="Glb_TV.glb" camera-controls>
      <div class="progress-bar hide" slot="progress-bar">
          <div class="update-bar"></div>
      </div>
    </model-viewer>  
    <script src="script.js"></script>
    <!-- Loads <model-viewer> for browsers: -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  </body>
</html>
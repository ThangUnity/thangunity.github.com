<!doctype html>
<html lang="en">
  <head>
    <title>model viewer</title>
    <meta charset="utf-8">
    <meta name="description" content="&lt;model-viewer&gt; template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" href="./styles.css" rel="stylesheet"/>
    <!-- OPTIONAL: The :focus-visible polyfill removes the focus ring for some input types -->
    <script src="https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js" defer></script>

  </head>
  <body>
   <!-- <scene view> https://developers.google.com/ar/develop/java/scene-viewer
      HTML element change src file
	- S.browser_fallback_url  Nếu không thể hiển thị mô hình 3D, chẳng hạn như do ứng dụng Google chưa được cài đặt hoặc là phiên bản cũ, S.browser_fallback_url tham số sẽ được sử dụng để hiển thị trang web dự phòng.
	- file= Đường dẫn file glb, gltf
	ver scene view https://developers.google.com/sceneform/reference/com/google/ar/sceneform/SceneView
   -->
   
   
	<script>
		// Check whether this is an Android device.
		const isAndroid = /android/i.test(navigator.userAgent);
		// This fallback URL is used if the Google app is not installed and up to date.
		const fallbackUrl = 'https://arvr.google.com/scene-viewer?file=https%3A%2F%2Fstorage.googleapis.com%2Far-answers-in-search-models%2Fstatic%2FTiger%2Fmodel.glb&link=https%3A%2F%2Fgoogle.com&title=Tiger';
		// This intent URL triggers Scene Viewer on Android and falls back to
		// fallbackUrl if the Google app is not installed and up to date.
		const sceneViewerUrl = 'intent://arvr.google.com/scene-viewer/1.1?file=https://storage.googleapis.com/ar-answers-in-search-models/static/Tiger/model.glb&mode=ar_preferred#Intent;scheme=https;package=com.google.android.googlequicksearchbox;action=android.intent.action.VIEW;S.browser_fallback_url=' +
			fallbackUrl + ';end;';
		// Create a link.
		var a = document.createElement('a');
		a.appendChild(document.createTextNode('Android'));
		// Set the href to the intent URL on Android and the fallback URL
		// everywhere else.
		
		a.href = isAndroid ? sceneViewerUrl : fallbackUrl;
		// Add the link to the page.
		document.body.appendChild(a);
	</script>
	

	
	<script>
	//function detectiOSARQuickLook 
	const testAnchor = document.createElement("a");
	const quicklookViewerUrl='https://thangunity.github.io/toy_biplane.usdz';
	if(testAnchor.relList.supports("ar"))
	{
		var x = document.createElement("BUTTON");
		x.setAttribute('onclick', 'launchIOSQuickLookAR("'+quicklookViewerUrl+'")');
		var t = document.createTextNode("Click me AR");
		x.appendChild(t);
		document.body.appendChild(x);
	}
	
	function launchIOSQuickLookAR(usdzSrc) {
	  const anchor = document.createElement("a");
	  anchor.setAttribute("rel", "ar");
	  anchor.appendChild(document.createElement("img"));
	  anchor.setAttribute("href", usdzSrc);
	  anchor.click();
	}
	
	</script>
	

	
	<!-- Previewing a Model with AR Quick Look IOS
	https://webkit.org/blog/8421/viewing-augmented-reality-assets-in-safari-for-ios/
	-->
	<!-- <model-viewer> HTML element change src file -->
	<script>
	  var anchor = document.createElement("model-viewer");
	  anchor.setAttribute("src", "Glb_TV.glb"); // change glb file
	  anchor.setAttribute("camera-controls","");
	  var div = document.createElement("div");
	  div.setAttribute("class", "progress-bar hide");
	  div.setAttribute("slot", "progress-bar");
	  anchor.appendChild(div);
	  var div1 = document.createElement("div");
	  div1.setAttribute("class", "update-bar");
	  div.appendChild(div1);
	  document.body.appendChild(anchor);
	</script>
	
	<ul id="myList">
  <li>Coffee</li>
  <li>Tea</li>
</ul>
	
	<script>
	navigator.xr.isSessionSupported( 'immersive-ar' ).then( function ( supported ) {

                supported ? showStartAR() : showARNotSupported();

            } ).catch( showARNotSupported );
			
			function showARNotSupported() {

			console.log("Hello world!");

		}
		
		function showStartAR() {

			 var node = document.createElement("LI");
  var textnode = document.createTextNode("Water");
  node.appendChild(textnode);
  document.getElementById("myList").appendChild(node);

		}
	</script>

    <script src="script.js"></script>
    <!-- Loads <model-viewer> for browsers: -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  </body>
</html>